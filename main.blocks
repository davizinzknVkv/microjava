<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable id="Ae5S|Qy#N;y?-bp,le(d">playerName</variable><variable id="z:lH~a.+c|kP9;MwgNrR">gameRunning</variable><variable id=".|@5E(DPK^kF228N_B0!">playerX</variable><variable id="m]DsqO1qXJ%-AZS%k=u7">obstacles</variable><variable id="eZ4fx(KRE1YK:g*T~M/q">score</variable></variables><block type="pxt-on-start" id="0c`Kx|:JG5zhO$gqR_H5" x="0" y="0"><statement name="HANDLER"><block type="typescript_statement" id="lz?c8.-#B34Kx[2%OgM!"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let obstacles: { x: number, y: number }[] = []" numlines="1" declaredvars="obstacles"></mutation><comment pinned="false" h="80" w="160">Lista de obstáculos (posição x e y)</comment><next><block type="variables_set" id="1SG82,hBUI,2j/:@Kal@"><field name="VAR" id=".|@5E(DPK^kF228N_B0!">playerX</field><comment pinned="false" h="80" w="160">Define a posição inicial do jogador e variáveis do jogo
Posição do jogador na linha inferior</comment><value name="VALUE"><shadow type="math_number" id="Rm)R3vHJ5*j3sz5uQw*a"><field name="NUM">2</field></shadow></value><next><block type="variables_set" id="$FT+(_KW.I9}+NZdIWej"><field name="VAR" id="z:lH~a.+c|kP9;MwgNrR">gameRunning</field><comment pinned="false" h="80" w="160">Pontuação do jogador
Indica se o jogo está rodando</comment><value name="VALUE"><shadow type="math_number" id="hmX[z!A+LRyXx`xNyb:0"><field name="NUM">0</field></shadow><block type="logic_boolean" id="fUGh-s/5Q`S)[.w}T,^{"><field name="BOOL">TRUE</field></block></value><next><block type="function_call" id="|F:~yrb$cIN^b6XM?YGf"><mutation name="playCustomMelody" functionid="9R1Ao!#kMhm/hX.R#uOw"></mutation><next><block type="basic_show_icon" id="VSu6#6:PpS2UYE(mCffw"><field name="i">IconNames.Happy</field><comment pinned="false" h="80" w="160">Pergunta o nome do jogador e permite que ele construa com os botões</comment><next><block type="device_print_message" id=")p1`Yly:%[T=*oZMph#i"><value name="text"><shadow type="text" id="Xh[|MQ-5o:Ts;A:@c3`s"><field name="TEXT">Nome?</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="device_button_event" id="J;LCtgLKvpoaWK)-j$0." x="520" y="0"><field name="NAME">Button.AB</field><comment pinned="false" h="80" w="160">Exibe a pontuação ao pressionar A+B</comment><statement name="HANDLER"><block type="basic_show_icon" id="gKgwT]hVAss`fA5A4SnC"><field name="i">IconNames.Yes</field><next><block type="device_print_message" id="^hHCqN0ha4UWtM4q_?0F"><value name="text"><block type="text_join" id="}G#c$_1BX_o|lK8|(@]]"><mutation items="2"></mutation><value name="ADD0"><shadow type="text" id="De4B8%NW1XzLt7HdDU0V"><field name="TEXT">Score: </field></shadow></value><value name="ADD1"><shadow type="text" id="!,.aBuKk/9ZRoe+wt`q*"><field name="TEXT"></field></shadow><block type="variables_get" id="|P1o{#I$R3oP#5mC,hpG"><field name="VAR" id="eZ4fx(KRE1YK:g*T~M/q">score</field></block></value></block></value></block></next></block></statement></block><block type="device_button_event" id="MA`C6RZ@57G%C^(.,Uhy" x="1054" y="0"><field name="NAME">Button.A</field><statement name="HANDLER"><block type="variables_set" id="wf%2*mW%ml}|*ZnaqKhV"><field name="VAR" id="Ae5S|Qy#N;y?-bp,le(d">playerName</field><value name="VALUE"><shadow type="math_number" id="8n#;4L:Q0$G/aZj2v61R"><field name="NUM">0</field></shadow><block type="text_join" id=":33{Q~v[|8|2Uyh@foY~"><mutation items="2"></mutation><value name="ADD0"><shadow type="text" id="PSAOr7{DAcGTBg]wgo2g"><field name="TEXT"></field></shadow><block type="variables_get" id="S/.WUTzRxT)WP{iysw4b"><field name="VAR" id="Ae5S|Qy#N;y?-bp,le(d">playerName</field></block></value><value name="ADD1"><shadow type="text" id="YUE8iuD`x?[0?bxa/5.4"><field name="TEXT">A</field></shadow></value></block></value><next><block type="device_print_message" id="H3j.##YVgL:/HoBwQuH?"><value name="text"><block type="variables_get" id="l:99~ecE+Rxo~O`9#UCS"><field name="VAR" id="Ae5S|Qy#N;y?-bp,le(d">playerName</field></block></value></block></next></block></statement></block><block type="device_button_event" id="#D}k?#3AKqle/zTVyjqO" x="1693" y="0"><field name="NAME">Button.B</field><statement name="HANDLER"><block type="variables_set" id="oaMk}]5X=I_f5mI#4f.r"><field name="VAR" id="Ae5S|Qy#N;y?-bp,le(d">playerName</field><value name="VALUE"><shadow type="math_number" id="4%.8n(-F{)Y#Qo;|pIL."><field name="NUM">0</field></shadow><block type="text_join" id="RLFXTtK#Eb[dviWEl$jV"><mutation items="2"></mutation><value name="ADD0"><shadow type="text" id="NCh5M76!|]m:8`S0rAPN"><field name="TEXT"></field></shadow><block type="variables_get" id="C4,[lLvrteyREZusn?A?"><field name="VAR" id="Ae5S|Qy#N;y?-bp,le(d">playerName</field></block></value><value name="ADD1"><shadow type="text" id="%Z6XQ?G2@:VbPC)3ZCxq"><field name="TEXT">B</field></shadow></value></block></value><next><block type="device_print_message" id="Kb^s8Xz%hYZI4(*aO/|7"><value name="text"><block type="variables_get" id="svKFD`D:E9[Z85dFKEx6"><field name="VAR" id="Ae5S|Qy#N;y?-bp,le(d">playerName</field></block></value></block></next></block></statement></block><block type="device_forever" id="kG6Wg!q}_Km]wxgU{!Pp" x="2333" y="0"><comment pinned="false" h="80" w="160">Loop principal do jogo</comment><statement name="HANDLER"><block type="controls_if" id="pTqA%7O=7v@({oS$c)_R"><comment pinned="false" h="80" w="160">Se o jogo acabou, para a execução</comment><value name="IF0"><shadow type="logic_boolean" id="c##7VB9`u#,R=:-LfEb5"><field name="BOOL">TRUE</field></shadow><block type="logic_negate" id="_jllRrT]2Ec3OBdm4J!C"><value name="BOOL"><shadow type="logic_boolean" id="{kRdWAYKw2#Z[91w!Lxb"><field name="BOOL">TRUE</field></shadow><block type="variables_get" id="{u1A@/z~w6kE3WN}~8r+"><field name="VAR" id="z:lH~a.+c|kP9;MwgNrR">gameRunning</field></block></value></block></value><statement name="DO0"><block type="typescript_statement" id="O%vWy/^~iywIA_FEr-NS"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="return;" numlines="1"></mutation><data>{"commentRefs":[],"fieldData":{}}</data></block></statement><next><block type="device_clear_display" id="(wWR_~xJr?Xmr{HPuD=A"><comment pinned="false" h="80" w="160">Limpa a tela</comment><next><block type="device_plot" id="vpe0x~(Qk3^nyB,9fR=;"><comment pinned="false" h="80" w="160">Desenha o jogador na parte inferior</comment><value name="x"><shadow type="math_number_minmax" id="]qJQIPNKq[{,R8mR^0T5"><mutation min="0" max="4" precision="0"></mutation><field name="SLIDER">0</field></shadow><block type="variables_get" id=")jRmTK^g7pBd,u3[3Xgn"><field name="VAR" id=".|@5E(DPK^kF228N_B0!">playerX</field></block></value><value name="y"><shadow type="math_number_minmax" id="alPnppc+Y7Hz{:Ab!jQD"><mutation min="0" max="4" precision="0"></mutation><field name="SLIDER">4</field></shadow></value><next><block type="typescript_statement" id="7{EjSz/1_b%[%z-[+uWw"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="obstacles = obstacles.map(obstacle =&gt; ({ x: obstacle.x, y: obstacle.y + 1 })).filter(obstacle =&gt; obstacle.y &lt; 5);" numlines="1"></mutation><next><block type="typescript_statement" id="HqcQec=G-jihZ]6;-}J4"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="obstacles.forEach(obstacle =&gt; led.plot(obstacle.x, obstacle.y));" numlines="1"></mutation><comment pinned="false" h="80" w="160">Exibe os obstáculos</comment><next><block type="controls_if" id="Ai3Y.{3lY[ZJ}y([%5DG"><comment pinned="false" h="80" w="160">Verifica colisão entre o jogador e os obstáculos</comment><value name="IF0"><shadow type="logic_boolean" id="R=;okk@)HbHw8GQ36}1M"><field name="BOOL">TRUE</field></shadow><block type="typescript_expression" id="Gf;$M5y,J:J6;d:)s{^]"><field name="EXPRESSION">obstacles.some(obstacle =&gt; obstacle.y === 4 &amp;&amp; obstacle.x === playerX)</field></block></value><statement name="DO0"><block type="variables_set" id="58fDfR!]0VrR2hh(sPy%"><field name="VAR" id="z:lH~a.+c|kP9;MwgNrR">gameRunning</field><value name="VALUE"><shadow type="math_number" id="yT{9SyH4Mj3%`g/W?BML"><field name="NUM">0</field></shadow><block type="logic_boolean" id="s[E3_Q9*Tz-Q@@bQbfMs"><field name="BOOL">FALSE</field></block></value><next><block type="basic_show_icon" id="YY/001W+}X-Kwta,~/E."><field name="i">IconNames.Skull</field><next><block type="device_print_message" id="lo;pw8mU(Dl6U}{r0.qD"><comment pinned="false" h="80" w="160">Exibe mensagem de fim de jogo</comment><value name="text"><shadow type="text" id="VE!4q/Spl4?_kFNZg:Z:"><field name="TEXT">Game Over</field></shadow></value><next><block type="typescript_statement" id="E;`G2Xq!7:.]LI[_;?{$"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="music.beginMelody(music.builtInMelody(Melodies.Wawawawaa), MelodyOptions.Once);" numlines="1"></mutation><comment pinned="false" h="80" w="160">Toca som de derrota</comment><next><block type="control_reset" id="Nk]GzuHd;rC/J.akO{z4"><comment pinned="false" h="80" w="160">Reinicia o Micro:bit</comment></block></next></block></next></block></next></block></next></block></statement><next><block type="controls_if" id="C^/QNRZDS8C#1`+_q,Uv"><comment pinned="false" h="80" w="160">Gera novos obstáculos aleatoriamente</comment><value name="IF0"><shadow type="logic_boolean" id="E|.9BH:3o2S:I?Ka:UWi"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="Xyxyl8W|r4S1yS}NE~vy"><field name="OP">LT</field><value name="A"><shadow type="math_number" id="SJ`#5?;/,5e=}YQaNw-~"><field name="NUM">0</field></shadow><block type="device_random_deprecated" id="7pUa:|MP54}8BYK8k-m9"><value name="min"><shadow type="math_number" id="qV|+ER2_d.,^gEzbNF~q"><field name="NUM">0</field></shadow></value><value name="limit"><shadow type="math_number" id="7z4C+gyisGc^dU+On+HX"><field name="NUM">4</field></shadow></value></block></value><value name="B"><shadow type="math_number" id="!$1aeV7c$]5/UNt+tZP2"><field name="NUM">2</field></shadow></value></block></value><statement name="DO0"><block type="array_push" id="Z|6!.:oemGYmKS+sk4l1"><value name="list"><block type="variables_get" id="!kZrDcEZk1rmQffA:6y8"><field name="VAR" id="m]DsqO1qXJ%-AZS%k=u7">obstacles</field></block></value><value name="value"><block type="typescript_expression" id="xC7=|:E`}T4-TFZGfnC9"><field name="EXPRESSION">{ x: Math.randomRange(0, 4), y: 0 }</field></block></value></block></statement><next><block type="variables_change" id="[#wu|GA5zz(d`JXU%jX`"><field name="VAR" id="eZ4fx(KRE1YK:g*T~M/q">score</field><comment pinned="false" h="80" w="160">Aumenta a pontuação</comment><value name="VALUE"><shadow type="math_number" id="0NUQ%`6G$%9-~LGFiuM1"><field name="NUM">1</field></shadow></value><next><block type="device_pause" id="2OIdj]6Bh+Rpo,wSONo7"><comment pinned="false" h="80" w="160">O jogo acelera com o tempo</comment><value name="pause"><shadow type="timePicker" id="ZbJv^;{sRaJaXm}$r5x."><field name="ms">NaN</field></shadow><block type="math_arithmetic" id="xTCK0ik0wh(Mda6Nz18i"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="i4/IPJZAV!gaC:;Er;RO"><field name="NUM">400</field></shadow></value><value name="B"><shadow type="math_number" id="@@M~oXj-ijV9e:Yr8U:I"><field name="NUM">0</field></shadow><block type="math_op2" id="01T6*VO/dLF@`+*`Th[S"><field name="op">min</field><value name="x"><block type="variables_get" id="ss965~2ohO$NWvC|)xIp"><field name="VAR" id="eZ4fx(KRE1YK:g*T~M/q">score</field></block></value><value name="y"><shadow type="math_number" id="aPzIJtgqa(fgNO1Db_w2"><field name="NUM">300</field></shadow></value></block></value></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="input_logo_event" id="FTZy@02|+1i5LxWZ(*Nv" x="0" y="1035"><field name="action">TouchButtonEvent.Pressed</field><statement name="HANDLER"><block type="device_print_message" id="VkVptIK;e`dOKIRT8%a9"><comment pinned="false" h="80" w="160">Exibe saudação</comment><value name="text"><block type="text_join" id="iv@t(n~uie6{N*]a/Fo9"><mutation items="2"></mutation><value name="ADD0"><shadow type="text" id="RiX`aRQQwm!fuE0K3gHL"><field name="TEXT">Hello, </field></shadow></value><value name="ADD1"><shadow type="text" id="UQ*b}nw]uv!u]Bp4nV2/"><field name="TEXT"></field></shadow><block type="variables_get" id="]*bnYagalcqLnTE{j1da"><field name="VAR" id="Ae5S|Qy#N;y?-bp,le(d">playerName</field></block></value></block></value><next><block type="basic_show_icon" id="5I-7m0)95k)Vu}AM+BY="><field name="i">IconNames.Heart</field><data>{"commentRefs":[],"fieldData":{}}</data><next><block type="typescript_statement" id="Gx;6{qk`N832kHZODZNV"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="music.beginMelody(music.builtInMelody(Melodies.PowerUp), MelodyOptions.Once);" numlines="1"></mutation><comment pinned="false" h="80" w="160">Toca som de saudação</comment></block></next></block></next></block></statement></block><block type="typescript_statement" id="OJ5tN$sCw|[X^@|5i$UU" disabled-reasons="ORPHANED_BLOCK,MANUALLY_DISABLED" x="779" y="1035"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="input.onButtonPressed(Button.A, function () {" line1="    if (playerX &gt; 0) playerX--;" line2="    music.playTone(262, music.beat(BeatFraction.Quarter)); // Som ao mover" line3="});" numlines="4"></mutation></block><block type="typescript_statement" id="7w`/UYaFwpYej45C.x[K" disabled-reasons="ORPHANED_BLOCK,MANUALLY_DISABLED" x="1491" y="1035"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="input.onButtonPressed(Button.B, function () {" line1="    if (playerX &lt; 4) playerX++;" line2="    music.playTone(392, music.beat(BeatFraction.Quarter)); // Som ao mover" line3="});" numlines="4"></mutation></block><block type="typescript_statement" id="+J[,Hmk+,5Nm:A|T_(+I" disabled-reasons="ORPHANED_BLOCK,MANUALLY_DISABLED" x="2203" y="1035"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="input.onButtonPressed(Button.AB, function () {" line1="    music.stopMelody(MelodyStopOptions.All);" line2="});" numlines="3"></mutation></block><block type="function_definition" id="pqxd$kPCp+8;zwZC5Mcv" x="0" y="1326"><mutation name="playCustomMelody" functionid="9R1Ao!#kMhm/hX.R#uOw"></mutation><field name="function_name">playCustomMelody</field><comment pinned="false" h="80" w="160">Lista de obstáculos (posição x e y)
Inicia uma melodia personalizada em loop</comment><statement name="STACK"><block type="device_play_note" id="2!Ust9EP=rnE*l},NeKi"><value name="note"><shadow type="device_note" id="kdUQY=j!vu8p8uQpG=WK"><field name="name">262</field></shadow></value><value name="duration"><shadow type="device_beat" id="`DTc-GR70mYs8,oVr?*6"><field name="fraction">BeatFraction.Quarter</field></shadow></value><next><block type="device_play_note" id="G$n)-j#][j6y,z[K8Z=R"><value name="note"><shadow type="device_note" id="LmVyrK04.5X,!N[pCA(B"><field name="name">294</field></shadow></value><value name="duration"><shadow type="device_beat" id="/LpvT4Ev:D{SZ1BZ34%N"><field name="fraction">BeatFraction.Quarter</field></shadow></value><next><block type="device_play_note" id="(YjYt;^REDyBH|YuPlj,"><value name="note"><shadow type="device_note" id="(]wUW8Zxzas2UXM!K*o,"><field name="name">330</field></shadow></value><value name="duration"><shadow type="device_beat" id="`:%Uec)bRTWgg;,B*`GB"><field name="fraction">BeatFraction.Quarter</field></shadow></value><next><block type="device_play_note" id="~0Mt{OEjYElLbWv=a9SQ"><value name="note"><shadow type="device_note" id="w{XjdN#,bNH:QVN6-]k?"><field name="name">349</field></shadow></value><value name="duration"><shadow type="device_beat" id="F2$eU^Sa/CTb}!r22kq/"><field name="fraction">BeatFraction.Quarter</field></shadow></value><next><block type="device_play_note" id="%7tgjv@ZANMBEBzNHp5]"><value name="note"><shadow type="device_note" id="L+XBsW=dZ(U~P_)-g./f"><field name="name">392</field></shadow></value><value name="duration"><shadow type="device_beat" id=";pDA/RSTsbbM4jy7!rls"><field name="fraction">BeatFraction.Quarter</field></shadow></value><next><block type="device_play_note" id="xcC`;hpE,Ai$Qcnx|Zq4"><value name="note"><shadow type="device_note" id="9a]`bzo`w+LD!oY+iUh3"><field name="name">440</field></shadow></value><value name="duration"><shadow type="device_beat" id="L8]10gg};@9lmZjW-1|$"><field name="fraction">BeatFraction.Quarter</field></shadow></value><next><block type="device_play_note" id="ou}B7r(*w~W?wt3jYEk."><value name="note"><shadow type="device_note" id="V{CAI-]9w}kQnd/#B.r~"><field name="name">494</field></shadow></value><value name="duration"><shadow type="device_beat" id="{rL50k$Rte-;Tm1xoX7`"><field name="fraction">BeatFraction.Quarter</field></shadow></value><next><block type="device_play_note" id="jM|X{Ja-unf}5G$Y8c-q"><value name="note"><shadow type="device_note" id="`0x?X-FB$HU;6V@gl%@F"><field name="name">523</field></shadow></value><value name="duration"><shadow type="device_beat" id="ycO!BihE^;FAa*JgF9j("><field name="fraction">BeatFraction.Quarter</field></shadow></value><next><block type="device_pause" id="f.~+6-6AoGq!4ay^Q+)m"><value name="pause"><shadow type="timePicker" id="ISpkV|{yNBi(:y@pl^ug"><field name="ms">200</field></shadow></value><next><block type="function_call" id="BrF@x|AT1=Q}N`TIEsw{"><mutation name="playCustomMelody" functionid="9R1Ao!#kMhm/hX.R#uOw"></mutation><comment pinned="false" h="80" w="160">Reinicia a melodia</comment></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></xml>